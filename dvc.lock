schema: '2.0'
stages:
  process-data:
    cmd: pipenv run python digit_recognizer/digit_recognizer.py process-data
    deps:
    - path: data/digit_data.csv
      md5: 942481fce846fb9750b7b8023c80a5ef
      size: 490582
    - path: data/digit_target.csv
      md5: 2a6cfa13365ac9b3af5146133aca6789
      size: 3590
    - path: digit_recognizer/digit_recognizer.py
      md5: 5ff7ab6bdc55db8d4a73bd371724492c
      size: 3863
    params:
      params.yaml:
        process_data.shuffle: false
        process_data.test_size: 0.5
    outs:
    - path: output/testing_data.pkl
      md5: 78be1761d227f71b1a8f858fed766982
      size: 529016
    - path: output/training_data.pkl
      md5: f95e8f978a05395ba23479ff60eda076
      size: 528427
  train:
    cmd: pipenv run python digit_recognizer/digit_recognizer.py train
    deps:
    - path: digit_recognizer/digit_recognizer.py
      md5: 5ff7ab6bdc55db8d4a73bd371724492c
      size: 3863
    - path: output/training_data.pkl
      md5: f95e8f978a05395ba23479ff60eda076
      size: 528427
    params:
      params.yaml:
        train.gamma: 0.01
    outs:
    - path: output/model.pkl
      md5: 399b08243f05b3c14908ce186b7aa250
      size: 528822
  report:
    cmd: pipenv run python digit_recognizer/digit_recognizer.py report
    deps:
    - path: digit_recognizer/digit_recognizer.py
      md5: 5ff7ab6bdc55db8d4a73bd371724492c
      size: 3863
    - path: output/model.pkl
      md5: 399b08243f05b3c14908ce186b7aa250
      size: 528822
    - path: output/testing_data.pkl
      md5: 78be1761d227f71b1a8f858fed766982
      size: 529016
    outs:
    - path: output/metrics.json
      md5: d9584bd2e675a255969f3a46a4e28487
      size: 178
    - path: output/test_data_results.csv
      md5: 0eb1a35286bce6806139de3ad991fb5a
      size: 8100
